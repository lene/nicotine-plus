# DEP-8 continuous integration tests.
#
#  TODO: Add in integration testing whenever it becomes available.
#

Test-Command: nicotine --version | grep Nicotine+
Depends: nicotine
Restrictions: isolation-container
Features: test-name=test-version

Test-Command: pytest-3 tests/unit
Depends:
    nicotine,
    python3-pytest
Restrictions: isolation-container
Features: test-name=test-unit

Test-Command: tests/integration/run_test.sh
Depends:
    nicotine,
    python3-pyatspi,
    python3-cairo,
    python3-gi,
    python3-pip,
    gir1.2-gtk-3.0,
    python3-wheel,
    python3-setuptools,
    xvfb
Restrictions: isolation-container
Features: test-name=test-integration
